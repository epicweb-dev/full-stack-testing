# Minimal Seed

<EpicVideo url="https://www.epicweb.dev/workshops/web-application-testing/test-database/optimizing-database-seeding-for-faster-execution" />

ğŸ‘¨â€ğŸ’¼ The main reason it's so slow is because we seed the database with so much
extra stuff we don't need in our tests. That said, there are _some_ things we
definitely want to have seeded. Our test database should resemble the real app
and that means having our roles and permissions defined.

But we don't need to have all the users and notes and images in there for the
tests. So, let's update our seed script to support an environment variable
called `MINIMAL_SEED` and if that's set then we'll exit early after making the
minimal amount of seed data. This should speed things up quite a bit.

```sh nonumber
npx vitest auth
```
